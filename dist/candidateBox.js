"use strict";
class CandidateBox extends HTMLElement {
    constructor() {
        super();
        this.votes = 0;
        this.votesElement = document.createElement('h1');
        this.candidateName = this.getAttribute('name') || '';
        this.candidateNameElement = document.createElement('h1');
        const box = document.createElement('div');
        box.className = 'candidate';
        this.candidateNameElement.textContent = this.candidateName;
        const addVoteButton = this.createAddButton(this.addVote.bind(this));
        const removeVoteButton = this.createRemoveButton(this.removeVote.bind(this));
        this.votesElement.textContent = this.votes.toString();
        box.appendChild(this.candidateNameElement);
        box.appendChild(addVoteButton);
        box.appendChild(this.votesElement);
        box.appendChild(removeVoteButton);
        box.appendChild(this.setupStyles());
        const shadow = this.attachShadow({ mode: 'open' });
        shadow.appendChild(box);
    }
    setupStyles() {
        const style = document.createElement('style');
        style.textContent = `
            .candidate {
                padding: 10px;
                display: grid;
                grid-template-columns: 60% 40%;
                background-color: #a0d8a7;
                height: 100px;
                border-radius: 10px;
            }

            .add-button {
                background-color: #44ad6694;
                height: 100%;
                width: 100%;
                border: 0;
                padding: 0;
                font-size: 2em;
                border-radius: 10px 10px 0 0;
            }

            .remove-button {
                background-color: #ff000094;
                border: 0;
                padding: 0;
                font-size: 2em;
                border-radius: 0 0 10px 10px;
            }

            h1 {
                margin: 0;
                padding: 0;
                text-align: center;
                align-self: center;
                font-size: 2em;
            }
        `;
        return style;
    }
    createAddButton(callback) {
        const button = document.createElement('button');
        button.className = 'add-button';
        button.textContent = '+';
        button.onclick = callback;
        return button;
    }
    createRemoveButton(callback) {
        const button = document.createElement('button');
        button.className = 'remove-button';
        button.textContent = '-';
        button.onclick = callback;
        return button;
    }
    addVote() {
        this.votes++;
        document.dispatchEvent(new CustomEvent("logAdded", {
            detail: {
                log: `+vote - total ${this.votes} -  ${this.candidateName}`,
                eventType: 'voteAdded'
            }
        }));
        this.votesElement.textContent = this.votes.toString();
    }
    removeVote() {
        if (this.votes === 0) {
            return;
        }
        this.votes--;
        document.dispatchEvent(new CustomEvent('logAdded', {
            detail: {
                log: `-vote - total ${this.votes} -  ${this.candidateName}`,
                eventType: 'voteRemoved'
            }
        }));
        this.votesElement.textContent = this.votes.toString();
    }
    static get observedAttributes() {
        return ['name'];
    }
    attributeChangedCallback(name, _, newValue) {
        if (name === 'name') {
            this.candidateName = newValue;
            this.candidateNameElement.textContent = newValue;
        }
    }
}
customElements.define('candidate-box', CandidateBox);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FuZGlkYXRlQm94LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NhbmRpZGF0ZUJveC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsTUFBTSxZQUFhLFNBQVEsV0FBVztJQU9sQztRQUNJLEtBQUssRUFBRSxDQUFDO1FBUFosVUFBSyxHQUFXLENBQUMsQ0FBQztRQUNsQixpQkFBWSxHQUF5QixRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRWxFLGtCQUFhLEdBQVcsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDeEQseUJBQW9CLEdBQXlCLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFJdEUsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxQyxHQUFHLENBQUMsU0FBUyxHQUFHLFdBQVcsQ0FBQztRQUM1QixJQUFJLENBQUMsb0JBQW9CLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7UUFFM0QsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3BFLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFFN0UsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUV0RCxHQUFHLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQzNDLEdBQUcsQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDL0IsR0FBRyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDbkMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ2xDLEdBQUcsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7UUFFcEMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDO1FBQ25ELE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVELFdBQVc7UUFDUCxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzlDLEtBQUssQ0FBQyxXQUFXLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1NBbUNuQixDQUFDO1FBQ0YsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELGVBQWUsQ0FBQyxRQUFvQjtRQUNoQyxNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hELE1BQU0sQ0FBQyxTQUFTLEdBQUcsWUFBWSxDQUFDO1FBQ2hDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDO1FBQzFCLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFHRCxrQkFBa0IsQ0FBQyxRQUFvQjtRQUNuQyxNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hELE1BQU0sQ0FBQyxTQUFTLEdBQUcsZUFBZSxDQUFDO1FBQ25DLE1BQU0sQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDO1FBQzFCLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxPQUFPO1FBQ0gsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2IsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxVQUFVLEVBQUU7WUFDL0MsTUFBTSxFQUFFO2dCQUNKLEdBQUcsRUFBRSxpQkFBaUIsSUFBSSxDQUFDLEtBQUssT0FBTyxJQUFJLENBQUMsYUFBYSxFQUFFO2dCQUMzRCxTQUFTLEVBQUUsV0FBVzthQUN6QjtTQUNKLENBQUMsQ0FBQyxDQUFBO1FBQ0gsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUMxRCxDQUFDO0lBRUQsVUFBVTtRQUNOLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUNuQixPQUFPO1FBQ1gsQ0FBQztRQUNELElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNiLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxXQUFXLENBQUMsVUFBVSxFQUFFO1lBQy9DLE1BQU0sRUFBRTtnQkFDSixHQUFHLEVBQUUsaUJBQWlCLElBQUksQ0FBQyxLQUFLLE9BQU8sSUFBSSxDQUFDLGFBQWEsRUFBRTtnQkFDM0QsU0FBUyxFQUFFLGFBQWE7YUFDM0I7U0FDSixDQUFDLENBQUMsQ0FBQTtRQUNILElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDMUQsQ0FBQztJQUVELE1BQU0sS0FBSyxrQkFBa0I7UUFDekIsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3BCLENBQUM7SUFFRCx3QkFBd0IsQ0FBQyxJQUFZLEVBQUUsQ0FBUyxFQUFFLFFBQWdCO1FBQzlELElBQUksSUFBSSxLQUFLLE1BQU0sRUFBRSxDQUFDO1lBQ2xCLElBQUksQ0FBQyxhQUFhLEdBQUcsUUFBUSxDQUFDO1lBQzlCLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxXQUFXLEdBQUcsUUFBUSxDQUFDO1FBQ3JELENBQUM7SUFDTCxDQUFDO0NBQ0o7QUFFRCxjQUFjLENBQUMsTUFBTSxDQUFDLGVBQWUsRUFBRSxZQUFZLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIENhbmRpZGF0ZUJveCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICB2b3RlczogbnVtYmVyID0gMDtcbiAgICB2b3Rlc0VsZW1lbnQ6IEhUTUxQYXJhZ3JhcGhFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDEnKTtcbiAgICBcbiAgICBjYW5kaWRhdGVOYW1lOiBzdHJpbmcgPSB0aGlzLmdldEF0dHJpYnV0ZSgnbmFtZScpIHx8ICcnO1xuICAgIGNhbmRpZGF0ZU5hbWVFbGVtZW50OiBIVE1MUGFyYWdyYXBoRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGJveC5jbGFzc05hbWUgPSAnY2FuZGlkYXRlJztcbiAgICAgICAgdGhpcy5jYW5kaWRhdGVOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuY2FuZGlkYXRlTmFtZTtcblxuICAgICAgICBjb25zdCBhZGRWb3RlQnV0dG9uID0gdGhpcy5jcmVhdGVBZGRCdXR0b24odGhpcy5hZGRWb3RlLmJpbmQodGhpcykpO1xuICAgICAgICBjb25zdCByZW1vdmVWb3RlQnV0dG9uID0gdGhpcy5jcmVhdGVSZW1vdmVCdXR0b24odGhpcy5yZW1vdmVWb3RlLmJpbmQodGhpcykpO1xuXG4gICAgICAgIHRoaXMudm90ZXNFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy52b3Rlcy50b1N0cmluZygpO1xuXG4gICAgICAgIGJveC5hcHBlbmRDaGlsZCh0aGlzLmNhbmRpZGF0ZU5hbWVFbGVtZW50KTtcbiAgICAgICAgYm94LmFwcGVuZENoaWxkKGFkZFZvdGVCdXR0b24pO1xuICAgICAgICBib3guYXBwZW5kQ2hpbGQodGhpcy52b3Rlc0VsZW1lbnQpO1xuICAgICAgICBib3guYXBwZW5kQ2hpbGQocmVtb3ZlVm90ZUJ1dHRvbik7XG4gICAgICAgIGJveC5hcHBlbmRDaGlsZCh0aGlzLnNldHVwU3R5bGVzKCkpO1xuXG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgICAgICBzaGFkb3cuYXBwZW5kQ2hpbGQoYm94KTtcbiAgICB9XG5cbiAgICBzZXR1cFN0eWxlcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAgICAgICAgIC5jYW5kaWRhdGUge1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDYwJSA0MCU7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2EwZDhhNztcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMHB4O1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5hZGQtYnV0dG9uIHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDRhZDY2OTQ7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIGJvcmRlcjogMDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMmVtO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwIDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5yZW1vdmUtYnV0dG9uIHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmYwMDAwOTQ7XG4gICAgICAgICAgICAgICAgYm9yZGVyOiAwO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAyZW07XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMCAwIDEwcHggMTBweDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaDEge1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAyZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIGA7XG4gICAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9XG5cbiAgICBjcmVhdGVBZGRCdXR0b24oY2FsbGJhY2s6ICgpID0+IHZvaWQgKTogSFRNTEJ1dHRvbkVsZW1lbnQge1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9ICdhZGQtYnV0dG9uJztcbiAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJysnO1xuICAgICAgICBidXR0b24ub25jbGljayA9IGNhbGxiYWNrO1xuICAgICAgICByZXR1cm4gYnV0dG9uO1xuICAgIH1cblxuXG4gICAgY3JlYXRlUmVtb3ZlQnV0dG9uKGNhbGxiYWNrOiAoKSA9PiB2b2lkICk6IEhUTUxCdXR0b25FbGVtZW50IHtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSAncmVtb3ZlLWJ1dHRvbic7XG4gICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICctJztcbiAgICAgICAgYnV0dG9uLm9uY2xpY2sgPSBjYWxsYmFjaztcbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9XG5cbiAgICBhZGRWb3RlKCkge1xuICAgICAgICB0aGlzLnZvdGVzKys7XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwibG9nQWRkZWRcIiwge1xuICAgICAgICAgICAgZGV0YWlsOiB7IFxuICAgICAgICAgICAgICAgIGxvZzogYCt2b3RlIC0gdG90YWwgJHt0aGlzLnZvdGVzfSAtICAke3RoaXMuY2FuZGlkYXRlTmFtZX1gLFxuICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogJ3ZvdGVBZGRlZCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpXG4gICAgICAgIHRoaXMudm90ZXNFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy52b3Rlcy50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHJlbW92ZVZvdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnZvdGVzID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52b3Rlcy0tO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbG9nQWRkZWQnLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHsgXG4gICAgICAgICAgICAgICAgbG9nOiBgLXZvdGUgLSB0b3RhbCAke3RoaXMudm90ZXN9IC0gICR7dGhpcy5jYW5kaWRhdGVOYW1lfWAsXG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlOiAndm90ZVJlbW92ZWQnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKVxuICAgICAgICB0aGlzLnZvdGVzRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMudm90ZXMudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgICAgcmV0dXJuIFsnbmFtZSddO1xuICAgIH1cblxuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lOiBzdHJpbmcsIF86IHN0cmluZywgbmV3VmFsdWU6IHN0cmluZykge1xuICAgICAgICBpZiAobmFtZSA9PT0gJ25hbWUnKSB7XG4gICAgICAgICAgICB0aGlzLmNhbmRpZGF0ZU5hbWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuY2FuZGlkYXRlTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjYW5kaWRhdGUtYm94JywgQ2FuZGlkYXRlQm94KTtcbiJdfQ==